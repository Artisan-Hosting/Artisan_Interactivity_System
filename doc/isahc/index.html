<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The practical HTTP client that is fun to use."><title>isahc - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-ac92e1bbe349e143.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="isahc" data-themes="" data-resource-suffix="" data-rustdoc-version="1.76.0 (07dca489a 2024-02-04)" data-channel="1.76.0" data-search-js="search-2b6ce74ff89ae146.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-305769736d49e732.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-feafe1bb7466e4bd.css"></noscript><link rel="icon" href="https://raw.githubusercontent.com/sagebind/isahc/master/media/icon.png"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../isahc/index.html"><img src="https://raw.githubusercontent.com/sagebind/isahc/master/media/isahc.svg.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../isahc/index.html"><img src="https://raw.githubusercontent.com/sagebind/isahc/master/media/isahc.svg.png" alt="logo"></a><h2><a href="../isahc/index.html">isahc</a><span class="version">1.7.2</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../isahc/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">isahc</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/isahc/lib.rs.html#1-470">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The practical HTTP client that is fun to use.</p>
<p>Here are some of Isahc’s key features:</p>
<ul>
<li>Full support for HTTP/1.1 and HTTP/2.</li>
<li>Configurable request timeouts, redirect policies, Unix sockets, and many
more settings.</li>
<li>Offers an ergonomic synchronous API as well as a runtime-agnostic
asynchronous API with support for async/await.</li>
<li>Fully asynchronous core, with incremental reading and writing of request
and response bodies and connection multiplexing.</li>
<li>Sessions and cookie persistence.</li>
<li>Automatic request cancellation on drop.</li>
</ul>
<h2 id="getting-started"><a href="#getting-started">Getting started</a></h2>
<p>Sending requests is as easy as calling a single function. Let’s make a
simple GET request to an example website:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>isahc::prelude::<span class="kw-2">*</span>;

<span class="kw">let </span><span class="kw-2">mut </span>response = isahc::get(<span class="string">"https://example.org"</span>)<span class="question-mark">?</span>;
<span class="macro">println!</span>(<span class="string">"{}"</span>, response.text()<span class="question-mark">?</span>);</code></pre></div>
<p>By default, sending a request will wait for the response, up until the
response headers are received. The returned response struct includes the
response body as an open stream implementing <a href="https://doc.rust-lang.org/1.76.0/std/io/trait.Read.html" title="trait std::io::Read"><code>Read</code></a>.</p>
<p>Sending a POST request is also easy, and takes an additional argument for
the request body:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>response = isahc::post(<span class="string">"https://httpbin.org/post"</span>, <span class="string">"make me a salad"</span>)<span class="question-mark">?</span>;</code></pre></div>
<p>Isahc provides several other simple functions for common HTTP request types:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code>isahc::put(<span class="string">"https://httpbin.org/put"</span>, <span class="string">"have a salad"</span>)<span class="question-mark">?</span>;
isahc::head(<span class="string">"https://httpbin.org/get"</span>)<span class="question-mark">?</span>;
isahc::delete(<span class="string">"https://httpbin.org/delete"</span>)<span class="question-mark">?</span>;</code></pre></div>
<p>If you want to customize the request by adding headers, setting timeouts,
etc, then you can create a <a href="struct.Request.html" title="struct isahc::Request"><code>Request</code></a> using a
builder-style fluent interface, then finishing it off with a
<a href="trait.RequestExt.html#tymethod.send" title="method isahc::RequestExt::send"><code>send</code></a>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>isahc::{prelude::<span class="kw-2">*</span>, Request};
<span class="kw">use </span>std::time::Duration;

<span class="kw">let </span>response = Request::post(<span class="string">"https://httpbin.org/post"</span>)
    .header(<span class="string">"Content-Type"</span>, <span class="string">"application/json"</span>)
    .timeout(Duration::from_secs(<span class="number">5</span>))
    .body(<span class="string">r#"{
        "speed": "fast",
        "cool_name": true
    }"#</span>)<span class="question-mark">?
    </span>.send()<span class="question-mark">?</span>;</code></pre></div>
<p>For even more examples used in complete programs, please check out the
<a href="https://github.com/sagebind/isahc/tree/master/examples">examples</a> directory
in the project repo.</p>
<h2 id="feature-tour"><a href="#feature-tour">Feature tour</a></h2>
<p>Below is a brief overview of some notable features of Isahc. Check out the
rest of the documentation for even more guides and examples.</p>
<h3 id="easy-request-functions"><a href="#easy-request-functions">Easy request functions</a></h3>
<p>You can start sending requests without any configuration by using the global
functions in this module, including <a href="fn.get.html" title="fn isahc::get"><code>get</code></a>, <a href="fn.post.html" title="fn isahc::post"><code>post</code></a>, and <a href="fn.send.html" title="fn isahc::send"><code>send</code></a>. These
use a shared HTTP client instance with sane defaults, so it is easy to get
up and running. They should work perfectly fine for many use-cases, so don’t
worry about graduating to more complex APIs if you don’t need them.</p>
<h3 id="request-and-response-traits"><a href="#request-and-response-traits">Request and response traits</a></h3>
<p>Isahc includes a number of traits in the <a href="prelude/index.html" title="mod isahc::prelude"><code>prelude</code></a> module that extend the
<a href="struct.Request.html" title="struct isahc::Request"><code>Request</code></a> and <a href="struct.Response.html" title="struct isahc::Response"><code>Response</code></a> types with a plethora of extra methods that
make common tasks convenient and allow you to configure more advanced
connection and protocol details.</p>
<p>Here are some of the key traits to read about:</p>
<ul>
<li><a href="config/trait.Configurable.html" title="trait isahc::config::Configurable"><code>Configurable</code></a>: Configure request parameters.</li>
<li><a href="trait.RequestExt.html" title="trait isahc::RequestExt"><code>RequestExt</code></a>: Manipulate and send requests.</li>
<li><a href="trait.ResponseExt.html" title="trait isahc::ResponseExt"><code>ResponseExt</code></a>: Get information about the corresponding request or
response statistics.</li>
<li><a href="trait.ReadResponseExt.html" title="trait isahc::ReadResponseExt"><code>ReadResponseExt</code></a>: Consume a response body in a variety of ways.</li>
<li><a href="trait.AsyncReadResponseExt.html" title="trait isahc::AsyncReadResponseExt"><code>AsyncReadResponseExt</code></a>: Consume an asynchronous response body in a
variety of ways.</li>
</ul>
<h3 id="custom-clients"><a href="#custom-clients">Custom clients</a></h3>
<p>The free-standing functions for sending requests use a shared <a href="struct.HttpClient.html" title="struct isahc::HttpClient"><code>HttpClient</code></a>
instance, but you can also create your own client instances, which allows
you to customize the default behavior for requests that use it.</p>
<p>See the documentation for <a href="struct.HttpClient.html" title="struct isahc::HttpClient"><code>HttpClient</code></a> and <a href="struct.HttpClientBuilder.html" title="struct isahc::HttpClientBuilder"><code>HttpClientBuilder</code></a> for more
information on creating custom clients.</p>
<h3 id="asynchronous-requests"><a href="#asynchronous-requests">Asynchronous requests</a></h3>
<p>Requests are always executed asynchronously under the hood. This allows a
single client to execute a large number of requests concurrently with
minimal overhead. Even synchronous applications can benefit!</p>
<p>If you are writing an asynchronous application, you can reap additional
benefits from the async nature of the client by using the asynchronous
methods available to prevent blocking threads in your code. All request
methods have an asynchronous variant that ends with <code>_async</code> in the name.
Here is our first example rewritten to use async/await syntax:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>isahc::prelude::<span class="kw-2">*</span>;

<span class="kw">let </span><span class="kw-2">mut </span>response = isahc::get_async(<span class="string">"https://httpbin.org/get"</span>).<span class="kw">await</span><span class="question-mark">?</span>;
<span class="macro">println!</span>(<span class="string">"{}"</span>, response.text().<span class="kw">await</span><span class="question-mark">?</span>);</code></pre></div>
<p>Since we sent our request using <a href="fn.get_async.html" title="fn isahc::get_async"><code>get_async</code></a>, no blocking will occur, and
the asynchronous versions of all response methods (such as
<a href="trait.AsyncReadResponseExt.html#tymethod.text" title="method isahc::AsyncReadResponseExt::text"><code>text</code></a>) will also automatically be selected by
the compiler.</p>
<h2 id="feature-flags"><a href="#feature-flags">Feature flags</a></h2>
<p>Isahc is designed to be as “pay-as-you-need” as possible using Cargo feature
flags and optional dependencies. Unstable features are also initially
released behind feature flags until they are stabilized. You can add the
feature names below to your <code>Cargo.toml</code> file to enable them:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies.isahc]
version = &quot;1.7&quot;
features = [&quot;psl&quot;]
</code></pre></div>
<p>Below is a list of all available feature flags and their meanings.</p>
<h3 id="cookies"><a href="#cookies"><code>cookies</code></a></h3>
<p>Enable persistent HTTP cookie support. Disabled by default.</p>
<h3 id="http2"><a href="#http2"><code>http2</code></a></h3>
<p>Enable compile-time support for HTTP/2 in libcurl via libnghttp2. This does
not actually affect whether HTTP/2 is used for a given request, but simply
makes it available. To configure which HTTP versions to use in a request,
see <a href="config/struct.VersionNegotiation.html" title="struct isahc::config::VersionNegotiation"><code>VersionNegotiation</code></a>.</p>
<p>To check which HTTP versions are supported at runtime, you can use
<a href="fn.is_http_version_supported.html" title="fn isahc::is_http_version_supported"><code>is_http_version_supported</code></a>.</p>
<p>Enabled by default.</p>
<h3 id="json"><a href="#json"><code>json</code></a></h3>
<p>Additional serialization and deserialization of JSON bodies via
<a href="https://serde.rs">serde</a>. Disabled by default.</p>
<h3 id="psl"><a href="#psl"><code>psl</code></a></h3>
<p>Enable use of the Public Suffix List to filter out potentially malicious
cross-domain cookies. Implies <code>cookies</code>, disabled by default.</p>
<h3 id="spnego"><a href="#spnego"><code>spnego</code></a></h3>
<p>Enable support for <a href="https://tools.ietf.org/html/rfc4559">SPNEGO-based HTTP
authentication</a> (<code>negotiate</code> auth
scheme). This makes the <code>negotiate</code> scheme available in the API and, if
<code>static-curl</code> is enabled, compiles libcurl with GSS-API APIs. The <a href="https://web.mit.edu/kerberos/">MIT
Kerberos</a> headers must be pre-installed at
compile time.</p>
<h3 id="static-curl"><a href="#static-curl"><code>static-curl</code></a></h3>
<p>Use a bundled libcurl version and statically link to it. Enabled by default.</p>
<h3 id="text-decoding"><a href="#text-decoding"><code>text-decoding</code></a></h3>
<p>Enable support for decoding text-based responses in various charsets into
strings. Enabled by default.</p>
<h3 id="unstable-apis"><a href="#unstable-apis">Unstable APIs</a></h3>
<p>There are also some features that enable new incubating APIs that do not
have stability guarantees:</p>
<h4 id="unstable-interceptors"><a href="#unstable-interceptors"><code>unstable-interceptors</code></a></h4>
<p>Enable the new interceptors API (replaces the old unstable middleware API).
Unstable until the API is finalized. This an unstable feature whose
interface may change between patch releases.</p>
<h2 id="logging-and-tracing"><a href="#logging-and-tracing">Logging and tracing</a></h2>
<p>Isahc logs quite a bit of useful information at various levels compatible
with the <a href="https://docs.rs/log">log</a> crate. For even more in-depth
diagnostics, you can use a <a href="https://docs.rs/tracing">tracing</a> subscriber to
track log events grouped by individual requests. This can be especially
useful if you are sending multiple requests concurrently.</p>
<p>If you set the log level to <code>Trace</code> for the <code>isahc::wire</code> target, Isahc will
also log all incoming and outgoing data while in flight. This may come in
handy if you are debugging code and need to see the exact data being sent to
the server and being received.</p>
</div></details><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.Error"><code>pub use crate::error::<a class="struct" href="error/struct.Error.html" title="struct isahc::error::Error">Error</a>;</code></div></li><li><div class="item-name" id="reexport.http"><code>pub use <a class="mod" href="../http/index.html" title="mod http">http</a>;</code></div></li></ul><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="auth/index.html" title="mod isahc::auth">auth</a></div><div class="desc docblock-short">Types for working with HTTP authentication methods.</div></li><li><div class="item-name"><a class="mod" href="config/index.html" title="mod isahc::config">config</a></div><div class="desc docblock-short">Definition of all client and request configuration options.</div></li><li><div class="item-name"><a class="mod" href="error/index.html" title="mod isahc::error">error</a></div><div class="desc docblock-short">Types for error handling.</div></li><li><div class="item-name"><a class="mod" href="prelude/index.html" title="mod isahc::prelude">prelude</a></div><div class="desc docblock-short">A “prelude” for importing commonly used Isahc types and traits.</div></li></ul><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AsyncBody.html" title="struct isahc::AsyncBody">AsyncBody</a></div><div class="desc docblock-short">Contains the body of an asynchronous HTTP request or response.</div></li><li><div class="item-name"><a class="struct" href="struct.Body.html" title="struct isahc::Body">Body</a></div><div class="desc docblock-short">Contains the body of a synchronous HTTP request or response.</div></li><li><div class="item-name"><a class="struct" href="struct.HttpClient.html" title="struct isahc::HttpClient">HttpClient</a></div><div class="desc docblock-short">An HTTP client for making requests.</div></li><li><div class="item-name"><a class="struct" href="struct.HttpClientBuilder.html" title="struct isahc::HttpClientBuilder">HttpClientBuilder</a></div><div class="desc docblock-short">An HTTP client builder, capable of creating custom <a href="struct.HttpClient.html" title="struct isahc::HttpClient"><code>HttpClient</code></a> instances
with customized behavior.</div></li><li><div class="item-name"><a class="struct" href="struct.Metrics.html" title="struct isahc::Metrics">Metrics</a></div><div class="desc docblock-short">An object that holds status updates and progress statistics on a particular
request. A <a href="struct.Metrics.html" title="struct isahc::Metrics"><code>Metrics</code></a> can be shared between threads, which allows an agent
thread to post updates to the object while consumers can read from the
object simultaneously.</div></li><li><div class="item-name"><a class="struct" href="struct.Request.html" title="struct isahc::Request">Request</a></div><div class="desc docblock-short">Represents an HTTP request.</div></li><li><div class="item-name"><a class="struct" href="struct.Response.html" title="struct isahc::Response">Response</a></div><div class="desc docblock-short">Represents an HTTP response</div></li><li><div class="item-name"><a class="struct" href="struct.ResponseFuture.html" title="struct isahc::ResponseFuture">ResponseFuture</a></div><div class="desc docblock-short">A future for a request being executed.</div></li><li><div class="item-name"><a class="struct" href="struct.Trailer.html" title="struct isahc::Trailer">Trailer</a></div><div class="desc docblock-short">Holds the current state of a trailer for a response.</div></li></ul><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AsyncReadResponseExt.html" title="trait isahc::AsyncReadResponseExt">AsyncReadResponseExt</a></div><div class="desc docblock-short">Provides extension methods for consuming asynchronous HTTP response streams.</div></li><li><div class="item-name"><a class="trait" href="trait.ReadResponseExt.html" title="trait isahc::ReadResponseExt">ReadResponseExt</a></div><div class="desc docblock-short">Provides extension methods for consuming HTTP response streams.</div></li><li><div class="item-name"><a class="trait" href="trait.RequestExt.html" title="trait isahc::RequestExt">RequestExt</a></div><div class="desc docblock-short">Extension methods on an HTTP request.</div></li><li><div class="item-name"><a class="trait" href="trait.ResponseExt.html" title="trait isahc::ResponseExt">ResponseExt</a></div><div class="desc docblock-short">Provides extension methods for working with HTTP responses.</div></li></ul><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.delete.html" title="fn isahc::delete">delete</a></div><div class="desc docblock-short">Send a DELETE request to the given URI.</div></li><li><div class="item-name"><a class="fn" href="fn.delete_async.html" title="fn isahc::delete_async">delete_async</a></div><div class="desc docblock-short">Send a DELETE request to the given URI asynchronously.</div></li><li><div class="item-name"><a class="fn" href="fn.get.html" title="fn isahc::get">get</a></div><div class="desc docblock-short">Send a GET request to the given URI.</div></li><li><div class="item-name"><a class="fn" href="fn.get_async.html" title="fn isahc::get_async">get_async</a></div><div class="desc docblock-short">Send a GET request to the given URI asynchronously.</div></li><li><div class="item-name"><a class="fn" href="fn.head.html" title="fn isahc::head">head</a></div><div class="desc docblock-short">Send a HEAD request to the given URI.</div></li><li><div class="item-name"><a class="fn" href="fn.head_async.html" title="fn isahc::head_async">head_async</a></div><div class="desc docblock-short">Send a HEAD request to the given URI asynchronously.</div></li><li><div class="item-name"><a class="fn" href="fn.is_http_version_supported.html" title="fn isahc::is_http_version_supported">is_http_version_supported</a></div><div class="desc docblock-short">Check if runtime support is available for the given HTTP version.</div></li><li><div class="item-name"><a class="fn" href="fn.post.html" title="fn isahc::post">post</a></div><div class="desc docblock-short">Send a POST request to the given URI with a given request body.</div></li><li><div class="item-name"><a class="fn" href="fn.post_async.html" title="fn isahc::post_async">post_async</a></div><div class="desc docblock-short">Send a POST request to the given URI asynchronously with a given request
body.</div></li><li><div class="item-name"><a class="fn" href="fn.put.html" title="fn isahc::put">put</a></div><div class="desc docblock-short">Send a PUT request to the given URI with a given request body.</div></li><li><div class="item-name"><a class="fn" href="fn.put_async.html" title="fn isahc::put_async">put_async</a></div><div class="desc docblock-short">Send a PUT request to the given URI asynchronously with a given request
body.</div></li><li><div class="item-name"><a class="fn" href="fn.send.html" title="fn isahc::send">send</a></div><div class="desc docblock-short">Send an HTTP request and return the HTTP response.</div></li><li><div class="item-name"><a class="fn" href="fn.send_async.html" title="fn isahc::send_async">send_async</a></div><div class="desc docblock-short">Send an HTTP request and return the HTTP response asynchronously.</div></li><li><div class="item-name"><a class="fn" href="fn.version.html" title="fn isahc::version">version</a></div><div class="desc docblock-short">Gets a human-readable string with the version number of Isahc and its
dependencies.</div></li></ul></section></div></main></body></html>